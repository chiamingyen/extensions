<?php /* Smarty version 2.6.26, created on 2012-12-17 03:19:37
         compiled from main.tpl */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('function', 'config_load', 'main.tpl', 24, false),array('modifier', 'modify::htmlquote', 'main.tpl', 28, false),array('modifier', 'default', 'main.tpl', 28, false),array('modifier', 'modify::dateformat', 'main.tpl', 48, false),array('modifier', 'json_encode', 'main.tpl', 58, false),array('modifier', 'array_keys', 'main.tpl', 66, false),array('modifier', 'array_values', 'main.tpl', 82, false),array('modifier', 'array_shift', 'main.tpl', 85, false),array('modifier', 'truncate', 'main.tpl', 85, false),array('modifier', 'regex_replace', 'main.tpl', 85, false),array('modifier', 'modify::nl2br', 'main.tpl', 172, false),array('modifier', 'modify::localdateformat', 'main.tpl', 204, false),array('modifier', 'escape', 'main.tpl', 299, false),array('modifier', 'modify::getpath', 'main.tpl', 299, false),array('modifier', 'sys_remove_handler', 'main.tpl', 320, false),array('modifier', 'replace', 'main.tpl', 320, false),array('modifier', 'modify::get_required_fields', 'main.tpl', 628, false),array('modifier', 'implode', 'main.tpl', 630, false),array('modifier', 'modify::callfunc', 'main.tpl', 736, false),array('modifier', 'modify::htmlfield', 'main.tpl', 736, false),array('block', 'repeat', 'main.tpl', 319, false),)), $this); ?>
<?php if ($this->_tpl_vars['print'] == 1): ?><?php $this->assign('sys_style', 'core'); ?><?php endif; ?>
<?php echo smarty_function_config_load(array('file' => "core_css.conf",'section' => $this->_tpl_vars['sys_style']), $this);?>

<html>
<head>
<?php if ($this->_tpl_vars['iframe']): ?><base target="_blank"><?php endif; ?>
<title><?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['name'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
 - <?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['t']['views'][$this->_tpl_vars['t']['view']]['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['t']['view']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['t']['view'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
 - <?php if (! $this->_tpl_vars['tree']['visible']): ?><?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['username'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
 - <?php endif; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['app_title'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
</title>
<!-- 
	This website is brought to you by Simple Groupware
	Simple Groupware is an open source Groupware and Web Application Framework created by Thomas Bley and licensed under GNU GPL v2.
	Simple Groupware is copyright 2002-2012 by Thomas Bley.	Extensions and translations are copyright of their respective owners.
	More information and documentation at http://www.simple-groupware.de/
-->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="Simple Groupware 0.743" />
<meta name="viewport" content="initial-scale=1.0; minimum-scale=1.0; maximum-scale=1.0;" />
<link media="all" href="images.php?css_style=<?php echo ((is_array($_tmp=$this->_tpl_vars['sys_style'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&browser=<?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['browser']['name'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&<?php echo ((is_array($_tmp=@CORE_VERSION)) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
" rel="stylesheet" type="text/css" />
<?php if ($this->_tpl_vars['t']['load_css']): ?><link media="all" href="<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['load_css'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
" rel="stylesheet" type="text/css" /><?php endif; ?>
<?php if ($this->_tpl_vars['t']['load_js']): ?><script type="text/javascript" src="<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['load_js'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
"></script><?php endif; ?>
<?php if (! $this->_tpl_vars['iframe']): ?>
  <link href="ext/images/favicon.ico" rel="shortcut icon">
  <link rel="search" type="application/opensearchdescription+xml" href="images.php?search" title="<?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['app_title'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
" />
  <?php if ($this->_tpl_vars['t']['att']['ENABLE_CALENDAR']): ?>
	<link rel="alternate" type="application/atom+xml" title="Today Feed" href="index.php?folder=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['folder'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&view=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['view'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&export=rss&markdate=day&today=now 00:00&username=&password=">
	<link rel="alternate" type="application/atom+xml" title="Week Feed" href="index.php?folder=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['folder'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&view=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['view'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&export=rss&markdate=week&today=last monday&username=&password=">
	<link rel="alternate" type="application/atom+xml" title="Month Feed" href="index.php?folder=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['folder'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&view=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['view'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&export=rss&markdate=month&today=<?php echo ((is_array($_tmp=((is_array($_tmp=time())) ? $this->_run_mod_handler('modify::dateformat', true, $_tmp, "Y-m") : modify::dateformat($_tmp, "Y-m")))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
-01&username=&password=">
  <?php else: ?>
	<link rel="alternate" type="application/atom+xml" title="Feed" href="index.php?folder=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['folder'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&view=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['view'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&export=rss&username=&password=">
  <?php endif; ?>
<?php endif; ?>
<?php if ($this->_tpl_vars['sys']['browser']['comp']['javascript'] && ! $this->_tpl_vars['print'] && ! $this->_tpl_vars['sys']['browser']['no_scrollbar']): ?>
<style>body {overflow-y:hidden; overflow:hidden;}</style>
<?php endif; ?>
<?php if ($this->_tpl_vars['print']): ?><style>.noprint {display: none;}</style><?php endif; ?>
<script>
  var sys = <?php echo json_encode($this->_tpl_vars['sys']); ?>
;
  var rights = <?php echo json_encode($this->_tpl_vars['t']['rights']); ?>
;
  var css_conf = <?php echo json_encode($this->_config[0]['vars']); ?>
;
  var sys_time = <?php echo ((is_array($_tmp=@NOW)) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
;
  var sys_style = "<?php echo ((is_array($_tmp=$this->_tpl_vars['sys_style'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var tview = "<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['view'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var schema_mode = "<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['schema_mode'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var tfolder = "<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['folder'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var tfolders = <?php echo json_encode(array_keys($this->_tpl_vars['t']['folders'])); ?>
;
  var tname = "<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['title'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var anchor = "<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['anchor'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var isdbfolder = "<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['isdbfolder'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var dblclick = "<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['doubleclick'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var no_folder_operations = "<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['att']['DISABLE_FOLDER_OPERATIONS'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var tfolder_name = "<?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['name'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var ftype = "<?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['type'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var cal_firstday = <?php echo ((is_array($_tmp=((is_array($_tmp=@WEEKSTART)) ? $this->_run_mod_handler('default', true, $_tmp, 0) : smarty_modifier_default($_tmp, 0)))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
;
  var tree_visible = "<?php echo ((is_array($_tmp=$this->_tpl_vars['tree']['visible'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var popup = "<?php echo ((is_array($_tmp=$this->_tpl_vars['popup'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var iframe = "<?php echo ((is_array($_tmp=$this->_tpl_vars['iframe'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var preview = "<?php echo ((is_array($_tmp=$this->_tpl_vars['preview'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var urladdon = "<?php echo ((is_array($_tmp=$this->_tpl_vars['urladdon'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var debug_js = "<?php echo ((is_array($_tmp=@DEBUG_JS)) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var debug = "<?php echo ((is_array($_tmp=@DEBUG)) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  var hist = <?php echo json_encode(array_values($this->_tpl_vars['sys']['history'])); ?>
;
  var warning = "";
  var notification = "";
  <?php if (count ( $this->_tpl_vars['t']['warning'] ) == 1): ?>warning = "<?php echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=array_shift($this->_tpl_vars['t']['warning']))) ? $this->_run_mod_handler('truncate', true, $_tmp, 100) : smarty_modifier_truncate($_tmp, 100)))) ? $this->_run_mod_handler('regex_replace', true, $_tmp, "/[\r\n]/", ' ') : smarty_modifier_regex_replace($_tmp, "/[\r\n]/", ' ')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";
  <?php elseif (count ( $this->_tpl_vars['t']['notification'] ) == 1): ?>notification = "<?php echo ((is_array($_tmp=((is_array($_tmp=array_shift($this->_tpl_vars['t']['notification']))) ? $this->_run_mod_handler('regex_replace', true, $_tmp, "/[\r\n]/", ' ') : smarty_modifier_regex_replace($_tmp, "/[\r\n]/", ' ')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
";<?php endif; ?>
</script>
<?php if (( $this->_tpl_vars['sys']['browser']['name'] != 'firefox' || $this->_tpl_vars['sys']['browser']['ver'] < 35 ) && ( $this->_tpl_vars['sys']['browser']['name'] != 'safari' || $this->_tpl_vars['sys']['browser']['ver'] < 530 )): ?>
  <script type="text/javascript" src="ext/lib/json/json.js"></script>
<?php endif; ?>
<script type="text/javascript" src="ext/js/functions.js?<?php echo ((is_array($_tmp=@CORE_VERSION)) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
"></script>
</head>
<body <?php if ($this->_tpl_vars['print'] == 1): ?>onload="window.print();"<?php endif; ?> onresize="resizeit();">

<?php if ($this->_tpl_vars['tree']['visible'] && ! $this->_tpl_vars['print']): ?>
  <div class="sgslogo cursor" onclick="nWin('<?php echo $this->_config[0]['vars']['logo_link']; ?>
');"><img id="sgslogo" src="<?php echo $this->_config[0]['vars']['logo']; ?>
"></div>
<?php endif; ?>
<?php if ($this->_config[0]['vars']['bg_full'] != ""): ?><div class="bg_full"><img src="<?php echo $this->_config[0]['vars']['bg_full']; ?>
" style="width:100%; height:100%;"></div><?php endif; ?>

<?php if (! $this->_tpl_vars['print']): ?><noscript>Please enable Javascript in your browser.<br><br></noscript><?php endif; ?>

<?php if (! $this->_tpl_vars['print'] && ! $this->_tpl_vars['popup'] && ! $this->_tpl_vars['iframe'] && ! $this->_tpl_vars['preview'] && $this->_tpl_vars['tree']['visible']): ?><div id="menu" style="height:29px;"></div><?php endif; ?>
<div id="calendar" class="hidden"><iframe id="calendar_iframe" class="calendar_iframe" src="about:blank" style="width:100%; height:100%;"></iframe></div>
<div id="console" class="hidden"><textarea id="tconsole" style="width:100%; height:100%;"></textarea></div>
<div id="login" class="hidden"><iframe id="login_iframe" name="login_iframe" src="about:blank" style="width:100%; height:100%; border:0px;"></iframe></div>

<div id="main" style="<?php if (! $this->_tpl_vars['iframe']): ?>margin-top:2px;<?php endif; ?>">

<div id="login_reminder" class="hidden" style="text-align:center;">
  Your session has timed out.<br>
  <form method="post" target="login_iframe" action="index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&" onsubmit="hide('login_reminder'); show('login');">
	<input type="hidden" name="loginform" value="true">
	<input type="text" id="username" name="username" value="<?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['username'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
">
	<input type="password" id="password" name="password">
	<input type="Submit" value=" L o g i n ">
  </form>
</div>

<table border="0" cellpadding="0" cellspacing="0" style="width:100%;" <?php if (! $this->_tpl_vars['iframe']): ?>class="main2"<?php endif; ?>>
  <tbody>
  <tr>
	<?php if ($this->_tpl_vars['tree']['visible'] && ! $this->_tpl_vars['print']): ?>
	<td style="text-align:center; <?php if ($this->_config[0]['vars']['direction']): ?>padding-left:2px;<?php else: ?>padding-right:2px;<?php endif; ?>" valign="top" id="tree">
	  <script>getObj("tree").style.width = tree_width+"px";</script>
	  <?php echo '<div class="tree_caption" title="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['type'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ' / '; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['t']['custom_name'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['t']['title']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['t']['title'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['views'][$this->_tpl_vars['t']['view']]['modulename'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ' - '; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['username'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</div><table border="0" cellpadding="0" cellspacing="0" id="tree_views" class="tree_views"><tr>'; ?><?php if ($this->_tpl_vars['tree']['type'] == 'folders' && ! $this->_tpl_vars['onecategory']): ?><?php echo '<td class="tabstyle2" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&treetype=folders\')">Folders</td><td style="width:2px;"></td><td class="tabstyle" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&treetype=categories\')">Categories</td>'; ?><?php else: ?><?php echo '<td class="tabstyle" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&treetype=folders\')">Folders</td><td style="width:2px;"></td><td class="tabstyle2" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&treetype=categories\')">Categories</td>'; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['t']['isdbfolder'] && $this->_tpl_vars['t']['rights']['write_folder']): ?><?php echo '<td style="width:2px;"></td><td class="tabstyle" onclick="tree_categories();">+</td>'; ?><?php endif; ?><?php echo '<td style="width:2px;"></td><td style="width:10px;" class="tabstyle3" ondblclick="tree_showhide();" onmousedown="start_drag(tree_drag_resize);">&nbsp;</td></tr></table><a onclick="tree_showhide(); return false;" href="#" accesskey="t"></a><a onclick="doclick(\'pane_options\'); return false;" href="#" accesskey="o"></a><a onclick="doclick(\'pane_mountpoint\'); return false;" href="#" accesskey="m"></a>'; ?><?php if ($this->_tpl_vars['folder']['description'] && ! $this->_tpl_vars['sys']['fdesc_in_content']): ?><?php echo '<table border="0" cellpadding="0" cellspacing="0" class="tree_box"><tr><td>'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['folder']['description'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)))) ? $this->_run_mod_handler('modify::nl2br', true, $_tmp) : modify::nl2br($_tmp)); ?><?php echo '</td></tr></table>'; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['datebox']): ?><?php echo '<table border="0" cellpadding="0" cellspacing="0" class="tree_data"><tr class="fields" style="padding:0px;"><td onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&today='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['datebox']['prev_date'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\')">&laquo;&laquo;</td><td colspan="6" class="'; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'month'): ?><?php echo 'datebox_head'; ?><?php else: ?><?php echo 'datebox_headline'; ?><?php endif; ?><?php echo '" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=month&today='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['datebox']['fstinmonths'][$this->_tpl_vars['datebox']['month']])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\')">'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['datebox']['months'][$this->_tpl_vars['datebox']['month']])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ' '; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['datebox']['year'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</td><td onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&today='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['datebox']['next_date'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\')">&raquo;&raquo;</td></tr><tr class="default"><td class="datebox_days">&nbsp;</td>'; ?><?php $_from = $this->_tpl_vars['datebox']['dow']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['day_key'] => $this->_tpl_vars['day']):
?><?php echo '<td class="datebox_days" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&weekstart='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['day']['date_w'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\')">'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['day']['date_d'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</td>'; ?><?php endforeach; endif; unset($_from); ?><?php echo '</tr>'; ?><?php $_from = $this->_tpl_vars['datebox']['dates'][$this->_tpl_vars['datebox']['month']]; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['datebox'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['datebox']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['week_key'] => $this->_tpl_vars['week']):
        $this->_foreach['datebox']['iteration']++;
?><?php echo '<tr class="datebox_row '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'week' && $this->_tpl_vars['datebox']['week'] == $this->_tpl_vars['week_key']): ?><?php echo 'datebox_rowweek'; ?><?php elseif (($this->_foreach['datebox']['iteration'] <= 1)): ?><?php echo 'datebox_rowfirst'; ?><?php elseif (($this->_foreach['datebox']['iteration'] == $this->_foreach['datebox']['total'])): ?><?php echo 'datebox_rowlast'; ?><?php endif; ?><?php echo '"><td class="datebox_week" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=week&today='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['week'][0]['timestamp'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\')">'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['week_key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</td>'; ?><?php $_from = $this->_tpl_vars['week']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['days_key'] => $this->_tpl_vars['days']):
?><?php echo '<td onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=day&today='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['days']['timestamp'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\')" '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'day' && $this->_tpl_vars['datebox']['today'] == $this->_tpl_vars['days']['timestamp']): ?><?php echo 'class="datebox_today"'; ?><?php elseif ($this->_tpl_vars['datebox']['realtoday'] == $this->_tpl_vars['days']['timestamp']): ?><?php echo 'class="datebox_realtoday"'; ?><?php elseif ($this->_tpl_vars['datebox']['month'] != $this->_tpl_vars['days']['n']): ?><?php echo 'class="datebox_disabled"'; ?><?php endif; ?><?php echo '>'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['days']['j'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</td>'; ?><?php endforeach; endif; unset($_from); ?><?php echo '</tr>'; ?><?php endforeach; endif; unset($_from); ?><?php echo '</table><table id="tree_bar" border="0" cellpadding="0" cellspacing="0"><tr>'; ?><?php if ($this->_tpl_vars['datebox']['mark'] != 'all'): ?><?php echo '<td style="width:45%;"><input type="button" id="datebox_button" value="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['datebox']['today'])) ? $this->_run_mod_handler('modify::localdateformat', true, $_tmp, "M j, Y") : modify::localdateformat($_tmp, "M j, Y")))) ? $this->_run_mod_handler('default', true, $_tmp, "...") : smarty_modifier_default($_tmp, "...")))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" onclick="calendar(\'datebox\',false,true);" style="margin-right:2px; margin-bottom:2px;"><input type="hidden" id="datebox" name="datebox" value="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['datebox']['today'])) ? $this->_run_mod_handler('modify::dateformat', true, $_tmp, "m/d/Y") : modify::dateformat($_tmp, "m/d/Y")))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"></td>'; ?><?php endif; ?><?php echo '<td style="width:55%;"><a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=day\'); return false;" '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'day'): ?><?php echo 'class="bold"'; ?><?php endif; ?><?php echo '>Day</a> &nbsp;<a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=week\'); return false;" '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'week'): ?><?php echo 'class="bold"'; ?><?php endif; ?><?php echo '>Week</a> &nbsp;<a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=gantt\'); return false;" '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'gantt'): ?><?php echo 'class="bold"'; ?><?php endif; ?><?php echo '>Gantt</a><br><a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=month\'); return false;" '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'month'): ?><?php echo 'class="bold"'; ?><?php endif; ?><?php echo '>Month</a> &nbsp;<a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=year\'); return false;" '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'year'): ?><?php echo 'class="bold"'; ?><?php endif; ?><?php echo '>Year</a> &nbsp;<a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=all\'); return false;" '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'all'): ?><?php echo 'class="bold"'; ?><?php endif; ?><?php echo '>All</a> &nbsp;'; ?><?php if ($this->_tpl_vars['datebox']['mark'] != 'all'): ?><?php echo '<a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&today=now\'); return false;"><img title="Today" class="cursor" src="ext/icons/date.gif"></a>'; ?><?php endif; ?><?php echo '</td></tr></table>'; ?><?php endif; ?><?php echo '<div id="tree_def" onscroll="save_cookie();" class="overflow"><table border="0" cellpadding="0" cellspacing="0" id="tree_frame" class="tree_frame"><tr><td valign="top"><table border="0" cellpadding="0" cellspacing="0" id="tree" class="full_width"><tr><td class="search_bar"><form onsubmit="search(); return false;"><input type="submit" class="hide"/><table id="search_bar" class="tree2" border="0" cellpadding="0" cellspacing="0"><tr><td style="width:100%; padding-left:3px;"><input id="search_query" accesskey="f" onblur="searchbox2(this);" onfocus="searchbox(this);" style="width:100%;" type="text" value="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['t']['search']['query'])) ? $this->_run_mod_handler('default', true, $_tmp, 'Search') : smarty_modifier_default($_tmp, 'Search')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"></td><td style="padding-right:6px; white-space:nowrap;"><img class="cursor" src="ext/icons/search.gif" onclick="search();" style="padding-top:1px; margin-left:4px;"><img class="cursor" src="ext/icons/down.gif" onclick="showhide(\'tree_searchengines\');"></td></tr><tr><td colspan="2"><div id="tree_searchengines" style="'; ?><?php if (! $this->_tpl_vars['t']['search']): ?><?php echo 'display:none;'; ?><?php endif; ?><?php echo '" class="tree_panes">'; ?><?php if ($this->_tpl_vars['t']['isdbfolder']): ?><?php echo '<table border="0" cellpadding="0" cellspacing="0" style="margin-left:4px;"><tr><td class="default">Module:</td><td>&nbsp;</td><td colspan="2"><select id="search_module" style="margin-bottom:1px; "><option value=""> All'; ?><?php $_from = $this->_tpl_vars['sys_schemas']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
?><?php echo ''; ?><?php if ($this->_tpl_vars['item'][0] == ' '): ?><?php echo '<optgroup label="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php else: ?><?php echo '<option value="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" '; ?><?php if ($this->_tpl_vars['key'] == $this->_tpl_vars['t']['search']['module']): ?><?php echo 'selected'; ?><?php endif; ?><?php echo '>'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo '</select></td></tr><tr><td class="default nowrap">Modified:</td><td></td><td><select id="search_modified"><option value="gt" '; ?><?php if ($this->_tpl_vars['t']['search']['modified']['type'] == 'gt'): ?><?php echo 'selected'; ?><?php endif; ?><?php echo '> after<option value="lt" '; ?><?php if ($this->_tpl_vars['t']['search']['modified']['type'] == 'lt'): ?><?php echo 'selected'; ?><?php endif; ?><?php echo '> before</select></td><td>&nbsp;<input id="search_modified_value" type="text" value="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['search']['modified']['value'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" style="width:70px;"/></td></tr><tr><td class="default">User:</td><td></td><td colspan="2"><input id="search_user" type="text" value="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['search']['user'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"/></td></tr><tr><td class="default">Similar:</td><td></td><td colspan="2"><input id="search_similar" class="checkbox" type="checkbox" value="1" onchange="search();" '; ?><?php if ($this->_tpl_vars['t']['search']['similar']): ?><?php echo 'checked'; ?><?php endif; ?><?php echo '/></td></tr><tr><td class="default">Subfolders:</td><td></td><td colspan="2"><input id="search_subfolders" class="checkbox" type="checkbox" value="1" onchange="search();" '; ?><?php if ($this->_tpl_vars['t']['search']['subfolders'] || ! $this->_tpl_vars['t']['search']): ?><?php echo 'checked'; ?><?php endif; ?><?php echo '/></td></tr></table>'; ?><?php endif; ?><?php echo '<div style="border-top: '; ?><?php echo $this->_config[0]['vars']['border']; ?><?php echo '; margin-top:4px; margin-bottom:7px;"></div><input type="Button" value="Google" onclick="nWin(\'http://www.google.com/search?q=\'+getObj(\'search_query\').value);">'; ?><?php echo ' '; ?><?php echo '<input type="Button" value="Wikipedia" onclick="nWin(\'http://www.wikipedia.org/wiki/?search=\'+getObj(\'search_query\').value);">'; ?><?php echo ' '; ?><?php echo '<input type="Button" value="Amazon" onclick="nWin(\'http://www.amazon.com/exec/obidos/external-search?keyword=\'+getObj(\'search_query\').value);">'; ?><?php echo ' '; ?><?php echo '<input type="Button" value="BabelFish" onclick="nWin(\'http://babelfish.altavista.com/?urltext=\'+getObj(\'search_query\').value+\'&url=\'+getObj(\'search_query\').value);">'; ?><?php echo ' '; ?><?php echo '<input type="Button" value="Yahoo" onclick="nWin(\'http://search.yahoo.com/search?p=\'+getObj(\'search_query\').value);">'; ?><?php echo ' '; ?><?php echo '<input type="Button" value="Bing" onclick="nWin(\'http://search.bing.com/results.aspx?q=\'+getObj(\'search_query\').value);"></div></td></tr></table></form></td></tr><tr><td style="height:5px;"></td></tr>'; ?><?php if (count ( $this->_tpl_vars['t']['folders'] ) > 1): ?><?php echo '<tr><td><div class="tree_folders"><table border="0" cellpadding="0" cellspacing="0" style="margin-left:4px;">'; ?><?php $_from = $this->_tpl_vars['t']['folders']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
?><?php echo '<tr><td class="default" valign="top"><img class="folder_block_image" src="ext/images/empty.gif" style="margin-right:6px; background-color: '; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item'][1])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"></td><td class="default"><a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&folder='; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item'][0])) ? $this->_run_mod_handler('escape', true, $_tmp, 'url') : smarty_modifier_escape($_tmp, 'url')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item'][0])) ? $this->_run_mod_handler('modify::getpath', true, $_tmp) : modify::getpath($_tmp)))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</a></td></tr>'; ?><?php endforeach; endif; unset($_from); ?><?php echo '</table></div></td></tr><tr><td style="height:5px;"></td></tr><tr><td><div style="border-top: '; ?><?php echo $this->_config[0]['vars']['border']; ?><?php echo ';"><!--IE--></div></td></tr><tr><td style="height:5px;"></td></tr>'; ?><?php endif; ?><?php echo '<tr><td><div id="tree_info" style="display:none;"></div>'; ?><?php if ($this->_tpl_vars['t']['folder_preview']): ?><?php echo '<script>tree_categories();</script>'; ?><?php endif; ?><?php echo '</td></tr>'; ?><?php if ($this->_tpl_vars['tree']['type'] == 'folders' && ! $this->_tpl_vars['onecategory']): ?><?php echo '<tr><td><div>'; ?><?php $_from = $this->_tpl_vars['tree']['tree']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['tree'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['tree']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
        $this->_foreach['tree']['iteration']++;
?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['flevel'] <= $this->_tpl_vars['level']): ?><?php echo ''; ?><?php $this->_tag_stack[] = array('repeat', array('count' => $this->_tpl_vars['level']-$this->_tpl_vars['item']['flevel']+1)); $_block_repeat=true;smarty_block_repeat($this->_tag_stack[count($this->_tag_stack)-1][1], null, $this, $_block_repeat);while ($_block_repeat) { ob_start(); ?><?php echo '</div>'; ?><?php $_block_content = ob_get_contents(); ob_end_clean(); $_block_repeat=false;echo smarty_block_repeat($this->_tag_stack[count($this->_tag_stack)-1][1], $_block_content, $this, $_block_repeat); }  array_pop($this->_tag_stack); ?><?php echo ''; ?><?php endif; ?><?php echo '<div class="drop_tree" rel="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" title="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('sys_remove_handler', true, $_tmp) : sys_remove_handler($_tmp)))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ' '; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['fdescription'])) ? $this->_run_mod_handler('replace', true, $_tmp, "\n", "\n ") : smarty_modifier_replace($_tmp, "\n", "\n ")))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" style="white-space:nowrap; '; ?><?php if ($this->_tpl_vars['folder']['id'] == $this->_tpl_vars['item']['id']): ?><?php echo 'font-weight:bold;'; ?><?php endif; ?><?php echo ' '; ?><?php if ($this->_tpl_vars['item']['flevel'] == 0): ?><?php echo 'padding-bottom:1px;'; ?><?php endif; ?><?php echo '">'; ?><?php $this->_tag_stack[] = array('repeat', array('count' => $this->_tpl_vars['item']['flevel'])); $_block_repeat=true;smarty_block_repeat($this->_tag_stack[count($this->_tag_stack)-1][1], null, $this, $_block_repeat);while ($_block_repeat) { ob_start(); ?><?php echo '<img src="ext/icons/line.gif">'; ?><?php $_block_content = ob_get_contents(); ob_end_clean(); $_block_repeat=false;echo smarty_block_repeat($this->_tag_stack[count($this->_tag_stack)-1][1], $_block_content, $this, $_block_repeat); }  array_pop($this->_tag_stack); ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['flevel'] != 0): ?><?php echo '<a onclick="tree_open(\''; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\');"><img id="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '_img" src="ext/icons/'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['plus'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '.gif"></a>'; ?><?php endif; ?><?php echo '&nbsp;<a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&folder='; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'url') : smarty_modifier_escape($_tmp, 'url')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php if ($this->_config[0]['vars']['tree_icons'] || $this->_tpl_vars['item']['icon']): ?><?php echo '<img src="ext/modules/'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['icon'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['item']['tree_icon']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['item']['tree_icon'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"> '; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['title'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;'; ?><?php else: ?><?php echo ''; ?><?php if ($this->_config[0]['vars']['bg_light_blue'] == "#B6BDD2"): ?><?php echo '<img src="ext/icons/folder'; ?><?php if ($this->_tpl_vars['folder']['id'] == $this->_tpl_vars['item']['id']): ?><?php echo '2'; ?><?php else: ?><?php echo '1'; ?><?php endif; ?><?php echo '.gif"> '; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['title'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;'; ?><?php else: ?><?php echo '<img src="images.php?image=folder'; ?><?php if ($this->_tpl_vars['folder']['id'] == $this->_tpl_vars['item']['id']): ?><?php echo '2'; ?><?php else: ?><?php echo '1'; ?><?php endif; ?><?php echo '&color='; ?><?php echo ((is_array($_tmp=$this->_config[0]['vars']['bg_light_blue'])) ? $this->_run_mod_handler('replace', true, $_tmp, "#", "") : smarty_modifier_replace($_tmp, "#", "")); ?><?php echo '"> '; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['title'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;'; ?><?php endif; ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['count'] != ""): ?><?php echo '('; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['count'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ')'; ?><?php endif; ?><?php echo '</a></div><div id="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php $this->assign('level', $this->_tpl_vars['item']['flevel']); ?><?php echo ''; ?><?php $this->assign('id', $this->_tpl_vars['item']['id']); ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo ''; ?><?php $this->_tag_stack[] = array('repeat', array('count' => $this->_tpl_vars['level']+1)); $_block_repeat=true;smarty_block_repeat($this->_tag_stack[count($this->_tag_stack)-1][1], null, $this, $_block_repeat);while ($_block_repeat) { ob_start(); ?><?php echo '</div>'; ?><?php $_block_content = ob_get_contents(); ob_end_clean(); $_block_repeat=false;echo smarty_block_repeat($this->_tag_stack[count($this->_tag_stack)-1][1], $_block_content, $this, $_block_repeat); }  array_pop($this->_tag_stack); ?><?php echo '</td></tr>'; ?><?php else: ?><?php echo '<tr><td><table border="0" cellpadding="0" cellspacing="0" style="margin-left:3px;">'; ?><?php if (! $this->_tpl_vars['onecategory']): ?><?php echo '<tr><td colspan="2" valign="top"><select style="width:150px; margin-top:3px; margin-bottom:5px;" onchange="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&fschema=\'+this.value);">'; ?><?php $_from = $this->_tpl_vars['sys_schemas']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['skey'] => $this->_tpl_vars['sitem']):
?><?php echo ''; ?><?php if ($this->_tpl_vars['sitem'][0] == ' '): ?><?php echo '<optgroup label="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['sitem'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php else: ?><?php echo '<option value="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['skey'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" '; ?><?php if ($this->_tpl_vars['skey'] == $this->_tpl_vars['folder']['type']): ?><?php echo 'selected'; ?><?php endif; ?><?php echo '>'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['sitem'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo '</select></td></tr>'; ?><?php endif; ?><?php echo ''; ?><?php $_from = $this->_tpl_vars['tree']['tree']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
?><?php echo '<tr><td style="vertical-align:top; white-space:nowrap;"><a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&folder='; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'url') : smarty_modifier_escape($_tmp, 'url')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['view'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php if ($this->_config[0]['vars']['tree_icons'] || $this->_tpl_vars['item']['icon']): ?><?php echo '<img src="ext/modules/'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['icon'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['item']['tree_icon']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['item']['tree_icon'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" style="margin-bottom:2px;">'; ?><?php else: ?><?php echo ''; ?><?php if ($this->_config[0]['vars']['bg_light_blue'] == "#B6BDD2"): ?><?php echo '<img src="ext/icons/folder'; ?><?php if ($this->_tpl_vars['folder']['id'] == $this->_tpl_vars['item']['id']): ?><?php echo '2'; ?><?php else: ?><?php echo '1'; ?><?php endif; ?><?php echo '.gif">'; ?><?php else: ?><?php echo '<img src="images.php?image=folder'; ?><?php if ($this->_tpl_vars['folder']['id'] == $this->_tpl_vars['item']['id']): ?><?php echo '2'; ?><?php else: ?><?php echo '1'; ?><?php endif; ?><?php echo '&color='; ?><?php echo ((is_array($_tmp=$this->_config[0]['vars']['bg_light_blue'])) ? $this->_run_mod_handler('replace', true, $_tmp, "#", "") : smarty_modifier_replace($_tmp, "#", "")); ?><?php echo '">'; ?><?php endif; ?><?php echo ''; ?><?php endif; ?><?php echo '</a>&nbsp;</td><td><div class="drop_tree" rel="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" title="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('sys_remove_handler', true, $_tmp) : sys_remove_handler($_tmp)))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ' '; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['fdescription'])) ? $this->_run_mod_handler('replace', true, $_tmp, "\n", "\n ") : smarty_modifier_replace($_tmp, "\n", "\n ")))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" style="'; ?><?php if ($this->_tpl_vars['folder']['id'] == $this->_tpl_vars['item']['id']): ?><?php echo 'font-weight:bold;'; ?><?php endif; ?><?php echo '"><a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&folder='; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'url') : smarty_modifier_escape($_tmp, 'url')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['view'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::getpath', true, $_tmp) : modify::getpath($_tmp)))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['count'] != ""): ?><?php echo '&nbsp;('; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['count'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ')'; ?><?php endif; ?><?php echo '</a></div></td></tr>'; ?><?php endforeach; endif; unset($_from); ?><?php echo '</table></td></tr>'; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['tree']['lastpage'] != 1): ?><?php echo '<tr style="height:7px;"><td></td></tr><tr><td>'; ?><?php if ($this->_tpl_vars['tree']['page'] != 1): ?><?php echo '&nbsp; <a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&treepage=1\'); return false;">|&lt;&lt;</a>'; ?><?php endif; ?><?php echo ''; ?><?php echo ' '; ?><?php echo ''; ?><?php if ($this->_tpl_vars['tree']['page'] != $this->_tpl_vars['tree']['prevpage']): ?><?php echo '<a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&treepage='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['tree']['prevpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\'); return false;">&lt;&lt;</a>'; ?><?php endif; ?><?php echo '&nbsp; '; ?><?php if ($this->_tpl_vars['tree']['page'] != $this->_tpl_vars['tree']['nextpage']): ?><?php echo '<a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&treepage='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['tree']['nextpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\'); return false;">&gt;&gt;</a>'; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['tree']['page'] != $this->_tpl_vars['tree']['lastpage']): ?><?php echo '<a href="#" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&treepage='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['tree']['lastpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\'); return false;">&gt;&gt;|</a>'; ?><?php endif; ?><?php echo '</td></tr>'; ?><?php endif; ?><?php echo '<tr><td style="height:7px;"></td></tr><tr><td><div style="border-top: '; ?><?php echo $this->_config[0]['vars']['border']; ?><?php echo ';"><!--IE--></div></td></tr><tr><td style="height:7px;"></td></tr>'; ?><?php if (! $this->_tpl_vars['t']['att']['DISABLE_FOLDER_OPERATIONS'] && $this->_tpl_vars['t']['rights']['write_folder']): ?><?php echo '<tr><td class="tree_cpane" id="pane_options" onclick="tree_folder_options();">&nbsp;&gt; Options</td></tr>'; ?><?php endif; ?><?php echo ''; ?><?php if (! $this->_tpl_vars['t']['att']['DISABLE_FOLDER_OPERATIONS'] && ( ( $this->_tpl_vars['t']['rights']['write_folder'] && ! $this->_tpl_vars['sys']['mountpoint_admin'] ) || $this->_tpl_vars['t']['rights']['admin_folder'] ) && $this->_tpl_vars['t']['isdbfolder']): ?><?php echo '<tr><td class="tree_cpane" id="pane_mountpoint" onclick="tree_folder_mountpoint();">&nbsp;&gt; Mountpoint</td></tr>'; ?><?php endif; ?><?php echo '<tr><td class="tree_cpane" onclick="tree_folder_info();">&nbsp;&gt; Info</td></tr><tr><td style="height:4px;"></td></tr><tr><td><div style="border-top: '; ?><?php echo $this->_config[0]['vars']['border']; ?><?php echo ';"><!--IE--></div></td></tr><tr><td style="height:7px;"></td></tr>'; ?><?php $_from = $this->_tpl_vars['t']['views']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['views'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['views']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
        $this->_foreach['views']['iteration']++;
?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['VISIBILITY'] == 'bottom'): ?><?php echo '<tr><td class="tree_cpane"><a onmousedown="this.href=asset_form_link(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\');" style="'; ?><?php if ($this->_tpl_vars['key'] == $this->_tpl_vars['t']['view']): ?><?php echo 'font-weight:bold;'; ?><?php endif; ?><?php echo '">&nbsp;&gt; '; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['key']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['key'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</a></td></tr>'; ?><?php endif; ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo '</table></td></tr></table></div>'; ?>

	</td>
    <?php endif; ?>
    <td valign="top" style="padding-left:0px;" id="content">
	  <script>getObj("content").style.width = (screen_width-tree_width)+"px";</script>
	  <?php if ($this->_tpl_vars['print'] == 1 || ( ! $this->_tpl_vars['tree']['visible'] && ! $this->_tpl_vars['iframe'] && ! $this->_tpl_vars['preview'] )): ?><?php echo '<div style="margin:2px;" class="default10 baseline">'; ?><?php $_from = $this->_tpl_vars['folder']['parents']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['parents'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['parents']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
        $this->_foreach['parents']['iteration']++;
?><?php echo '/<a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&folder='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">&nbsp;'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ftitle'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;</a>'; ?><?php endforeach; endif; unset($_from); ?><?php echo '/<a class="bold" href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&folder='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">&nbsp;'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['name'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;('; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['views'][$this->_tpl_vars['t']['view']]['modulename'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ')&nbsp;</a>'; ?><?php if ($this->_tpl_vars['folder']['children'] && ! $this->_tpl_vars['print']): ?><?php echo '/&nbsp;<select onchange="locate(this.value);" style="width:120px;"><option> - Subfolders -'; ?><?php $_from = $this->_tpl_vars['folder']['children']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['children'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['children']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
        $this->_foreach['children']['iteration']++;
?><?php echo '<option value="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&folder='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ftitle'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ' '; ?><?php if ($this->_tpl_vars['item']['fcount'] != 0): ?><?php echo '('; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['fcount'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ')'; ?><?php endif; ?><?php echo '</a>'; ?><?php endforeach; endif; unset($_from); ?><?php echo '</select>'; ?><?php endif; ?><?php echo '&nbsp;&nbsp;'; ?><?php if ($this->_tpl_vars['popup']): ?><?php echo ''; ?><?php if (count ( $this->_tpl_vars['tree']['tree'] ) > 1): ?><?php echo '<select onchange="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['view'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&folder=\'+this.value);" style="width:170px;">'; ?><?php $_from = $this->_tpl_vars['tree']['tree']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
?><?php echo '<option value="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'url') : smarty_modifier_escape($_tmp, 'url')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" '; ?><?php if ($this->_tpl_vars['folder']['id'] == $this->_tpl_vars['item']['id']): ?><?php echo 'selected'; ?><?php endif; ?><?php echo '> '; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item']['id'])) ? $this->_run_mod_handler('modify::getpath', true, $_tmp) : modify::getpath($_tmp)))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo '</select>'; ?><?php endif; ?><?php echo ''; ?><?php else: ?><?php echo '<select onchange="if (this.value) locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&\'+this.value);" style="width:100px;"><option> - History -'; ?><?php $_from = $this->_tpl_vars['sys']['history']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
?><?php echo '<option value="folder='; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item'][1])) ? $this->_run_mod_handler('escape', true, $_tmp, 'url') : smarty_modifier_escape($_tmp, 'url')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['item'][2])) ? $this->_run_mod_handler('escape', true, $_tmp, 'url') : smarty_modifier_escape($_tmp, 'url')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"> '; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item'][0])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ' '; ?><?php if ($this->_tpl_vars['item'][2] != 'display'): ?><?php echo '('; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item'][2])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ')'; ?><?php endif; ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo '</select>'; ?><?php endif; ?><?php echo '<span>&nbsp;&nbsp;<form action="index.php" method="get" style="display:inline;"><input type="hidden" name="view" value="search"/><input name="search" type="text" accesskey="f" value="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['search']['query'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" style="width:110px;" maxlength="255">&nbsp;<input type="Submit" value="Search"></form></span>'; ?><?php if (! $this->_tpl_vars['popup'] && ! $this->_tpl_vars['print']): ?><?php echo '&nbsp;<span style="white-space:nowrap;" class="baseline">'; ?><?php if (! $this->_tpl_vars['sys']['browser']['is_mobile']): ?><?php echo '&nbsp;<span class="cursor" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&tree=maximize\');">Maximize</span> |'; ?><?php echo ' '; ?><?php echo '<span class="cursor" onclick="nWin(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&print=1\');">Print</span> |'; ?><?php echo ' '; ?><?php echo '<span class="cursor" onclick="nWin(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&print=1&print_all=1\');">Print all</span> |'; ?><?php echo ' '; ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['sys']['home']): ?><?php echo '&nbsp;<a href="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['home'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"><img src="ext/icons/home.gif" title="Home"/></a>'; ?><?php echo ' '; ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['sys']['username'] != 'anonymous' && ! $this->_tpl_vars['sys']['is_superadmin']): ?><?php echo '&nbsp;<a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&find=asset|simple_sys_users|1|username='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['username'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&view=changepwd"><img src="ext/icons/settings.gif" title="Change settings"/></a>'; ?><?php echo ' '; ?><?php echo '&nbsp;<a href="offline.php"><img src="ext/icons/offline.png" title="Offline folders"/></a>'; ?><?php echo ' '; ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['sys']['browser']['is_mobile']): ?><?php echo '&nbsp;<a href="#" onclick="add_style(\'#content_def div,#content_def td\', \'word-break:normal; white-space:nowrap;\'); return false; "><img src="ext/icons/full_texts.gif" title="No line breaks"/></a>'; ?><?php echo ' '; ?><?php echo ''; ?><?php endif; ?><?php echo '&nbsp;<a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&logout"><img src="ext/icons/logout.gif" title="Login/-out '; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['sys']['username'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" style="padding-top:2px;"/></a></span>'; ?><?php endif; ?><?php echo '&nbsp;<span id="notification"></span><script>notify(notification+warning);</script></div>'; ?><?php if (! $this->_tpl_vars['print'] && $this->_tpl_vars['t']['views'][$this->_tpl_vars['t']['view']]['ENABLE_CALENDAR'] != ""): ?><?php echo '<div style="margin:4px; border-top: '; ?><?php echo $this->_config[0]['vars']['border']; ?><?php echo ';"></div><span class="default10 baseline">&nbsp;<span class="cursor" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&today=now\')">Today</span>&nbsp;'; ?><?php echo ' '; ?><?php echo '<input type="button" id="datebox_button" value="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['datebox']['today'])) ? $this->_run_mod_handler('modify::localdateformat', true, $_tmp, "M j, Y") : modify::localdateformat($_tmp, "M j, Y")))) ? $this->_run_mod_handler('default', true, $_tmp, "...") : smarty_modifier_default($_tmp, "...")))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" onclick="calendar(\'datebox\',false,true);"><input type="hidden" id="datebox" name="datebox" value="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['datebox']['today'])) ? $this->_run_mod_handler('modify::dateformat', true, $_tmp, "m/d/Y") : modify::dateformat($_tmp, "m/d/Y")))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">&nbsp;'; ?><?php echo ' '; ?><?php echo '<span class="cursor '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'day'): ?><?php echo 'bold'; ?><?php endif; ?><?php echo '" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=day\')">Day</span>&nbsp;<span class="cursor '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'week'): ?><?php echo 'bold'; ?><?php endif; ?><?php echo '" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=week\')">Week</span>'; ?><?php echo ' '; ?><?php echo '<span class="cursor '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'gantt'): ?><?php echo 'bold'; ?><?php endif; ?><?php echo '" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=gantt\')">Gantt</span>&nbsp;<span class="cursor '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'month'): ?><?php echo 'bold'; ?><?php endif; ?><?php echo '" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=month\')">Month</span>&nbsp;<span class="cursor '; ?><?php if ($this->_tpl_vars['datebox']['mark'] == 'all'): ?><?php echo 'bold'; ?><?php endif; ?><?php echo '" onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&markdate=all\')">All</span></span>'; ?><?php endif; ?><?php echo '<div style="margin:4px; border-top: '; ?><?php echo $this->_config[0]['vars']['border']; ?><?php echo ';"></div>'; ?>
<?php endif; ?>
	  <?php if (! $this->_tpl_vars['print'] && ! $this->_tpl_vars['iframe']): ?><?php echo ''; ?><?php if ($this->_tpl_vars['t']['sqlvars']['item'] != "" || count ( $this->_tpl_vars['t']['views'] ) > 1 || ( count ( $this->_tpl_vars['t']['buttons'] ) > 0 && ! $this->_tpl_vars['t']['noviewbuttons'] )): ?><?php echo '<div id="views"><div id="view_buttons" style="'; ?><?php if (! $this->_tpl_vars['sys']['browser']['is_mobile']): ?><?php echo 'float:'; ?><?php if ($this->_config[0]['vars']['direction']): ?><?php echo 'left'; ?><?php else: ?><?php echo 'right'; ?><?php endif; ?><?php echo ';'; ?><?php else: ?><?php echo 'display:none; margin:6px;'; ?><?php endif; ?><?php echo '" class="default10">'; ?><?php if (! $this->_tpl_vars['popup'] && ! $this->_tpl_vars['t']['noviewbuttons']): ?><?php echo ''; ?><?php $_from = $this->_tpl_vars['t']['views']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['views'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['views']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
        $this->_foreach['views']['iteration']++;
?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['VISIBILITY'] == 'button'): ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['ICON']): ?><?php echo '<a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" onmousedown="this.href=asset_form_link(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\');"><img src="ext/icons/'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ICON'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" style="height:16px;" title="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['key']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['key'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['ACCESSKEY']): ?><?php echo ' [Alt-'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ACCESSKEY'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ']'; ?><?php endif; ?><?php echo '">&nbsp;'; ?><?php if ($this->_tpl_vars['sys']['browser']['is_mobile']): ?><?php echo ''; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['key']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['key'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;&nbsp;'; ?><?php endif; ?><?php echo '</a>'; ?><?php else: ?><?php echo '<a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" onmousedown="this.href=asset_form_link(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\');">'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['key']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['key'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;</a>'; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['ACCESSKEY']): ?><?php echo '<a onclick="asset_form_submit(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\'); return false;" href="#" accesskey="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ACCESSKEY'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"></a>'; ?><?php endif; ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo ''; ?><?php $_from = $this->_tpl_vars['t']['buttons']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
?><?php echo ''; ?><?php if (! $this->_tpl_vars['item']['RIGHT'] || $this->_tpl_vars['t']['rights'][$this->_tpl_vars['item']['RIGHT']]): ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['ICON']): ?><?php echo '<span class="cursor" onclick="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ONCLICK'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"><img src="ext/icons/'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ICON'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" style="height:16px;" title="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['item']['NAME']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['item']['NAME'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['ACCESSKEY']): ?><?php echo ' [Alt-'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ACCESSKEY'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ']'; ?><?php endif; ?><?php echo '">&nbsp;'; ?><?php if ($this->_tpl_vars['sys']['browser']['is_mobile']): ?><?php echo ''; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['item']['NAME']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['item']['NAME'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;&nbsp;'; ?><?php endif; ?><?php echo '</span>'; ?><?php else: ?><?php echo '<span class="cursor" onclick="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ONCLICK'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['item']['NAME']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['item']['NAME'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '&nbsp;</span>'; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['ACCESSKEY']): ?><?php echo '<a onclick="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ONCLICK'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo ' return false;" href="#" accesskey="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['item']['ACCESSKEY'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"></a>'; ?><?php endif; ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo ''; ?><?php endif; ?><?php echo '</div><div style="float:'; ?><?php if ($this->_config[0]['vars']['direction']): ?><?php echo 'right'; ?><?php else: ?><?php echo 'left'; ?><?php endif; ?><?php echo ';" id="loading"><span id="tree_button" style="display:none;" onclick="tree_showhide();" class="tabstyle">Tree</span>'; ?><?php if ($this->_tpl_vars['t']['datasets'] > 0 && ( $this->_tpl_vars['t']['data_day'] || $this->_tpl_vars['t']['data_month'] )): ?><?php echo '<a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&hidedata" class="tabstyle">'; ?><?php if ($this->_tpl_vars['t']['hidedata']): ?><?php echo '+'; ?><?php else: ?><?php echo '&ndash;'; ?><?php endif; ?><?php echo '</a>'; ?><?php endif; ?><?php echo ''; ?><?php if (( $this->_tpl_vars['t']['sqlvars']['item'] && $this->_tpl_vars['t']['maxdatasets'] > $this->_tpl_vars['t']['datasets'] ) || $this->_tpl_vars['t']['sqlfilters']): ?><?php echo '<a href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&session_remove_request&filters=" class="tabstyle" title="Alt-&lt;" accesskey="<">[All]</a>'; ?><?php endif; ?><?php echo ''; ?><?php $_from = $this->_tpl_vars['t']['views']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['views'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['views']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['key'] => $this->_tpl_vars['item']):
        $this->_foreach['views']['iteration']++;
?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['VISIBILITY'] != 'hidden' && ( ! $this->_tpl_vars['item']['VISIBILITY'] || $this->_tpl_vars['key'] == $this->_tpl_vars['t']['view'] )): ?><?php echo ''; ?><?php if ($this->_tpl_vars['key'] != $this->_tpl_vars['t']['view']): ?><?php echo '<a onmousedown="this.href=asset_form_link(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\');" class="tabstyle" title="Alt-'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['ACCESSKEY'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_foreach['views']['iteration']) : smarty_modifier_default($_tmp, @$this->_foreach['views']['iteration'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['key']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['key'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</a>'; ?><?php else: ?><?php echo '<a onmousedown="this.href=asset_form_link(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\');" class="tabstyle2" title="Alt-'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['ACCESSKEY'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_foreach['views']['iteration']) : smarty_modifier_default($_tmp, @$this->_foreach['views']['iteration'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['key']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['key'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</a>'; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['item']['ACCESSKEY'] || $this->_foreach['views']['iteration'] < 10): ?><?php echo '<a onclick="asset_form_submit(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&view='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\'); return false;" href="#" accesskey="'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['item']['ACCESSKEY'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_foreach['views']['iteration']) : smarty_modifier_default($_tmp, @$this->_foreach['views']['iteration'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '"></a>'; ?><?php endif; ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo ''; ?><?php if ($this->_tpl_vars['t']['lastpage'] != 1): ?><?php echo ''; ?><?php if ($this->_tpl_vars['t']['page'] != $this->_tpl_vars['t']['prevpage']): ?><?php echo '<a class="tabstyle" href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&page='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['prevpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" accesskey="-" title="Alt-\'-\'">&lt;</a>'; ?><?php endif; ?><?php echo ''; ?><?php if ($this->_tpl_vars['t']['page'] != $this->_tpl_vars['t']['nextpage']): ?><?php echo '<a class="tabstyle" href="index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&page='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['nextpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" accesskey="+" title="Alt-\'+\'">&gt;</a>'; ?><?php endif; ?><?php echo '<a onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&page=1\'); return false;" href="#" accesskey="q"></a><a onclick="locate(\'index.php?'; ?><?php echo $this->_tpl_vars['urladdon']; ?><?php echo '&page='; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['t']['lastpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\'); return false;" href="#" accesskey="w"></a>'; ?><?php endif; ?><?php echo '<span id="notification2"></span>'; ?><?php if ($this->_tpl_vars['t']['views']['new'] && ! $this->_tpl_vars['t']['att']['DISABLE_QUICK_ADD'] && $this->_tpl_vars['t']['att']['ENABLE_NEW'] && $this->_tpl_vars['t']['schema_mode'] == ""): ?><?php echo ''; ?><?php $this->assign('fields', modify::get_required_fields($this->_tpl_vars['t']['fields_all'], $this->_tpl_vars['t']['att']['QUICK_ADD'])); ?><?php echo ''; ?><?php if ($this->_tpl_vars['fields']): ?><?php echo '<a title="Quick add [Alt-k]" href="#" onclick="asset_insert_prompt(\''; ?><?php echo ((is_array($_tmp=implode(array_keys($this->_tpl_vars['fields']), "|"))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\',\''; ?><?php echo ((is_array($_tmp=implode($this->_tpl_vars['fields'], "|"))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\'); return false;" accesskey="k"><img src="ext/icons/add.gif"></a>'; ?><?php endif; ?><?php echo ''; ?><?php endif; ?><?php echo '</div></div><div style="clear:both;"></div>'; ?><?php endif; ?><?php echo ''; ?>
<?php endif; ?>
	  <?php if (! $this->_tpl_vars['t']['disable_tabs'] && ( ! $this->_tpl_vars['t']['hidedata'] || ( ! $this->_tpl_vars['t']['data_day'] && ! $this->_tpl_vars['t']['data_month'] ) )): ?><?php echo ''; ?><?php if (count ( $this->_tpl_vars['t']['tabs'] ) > 1 && ( $this->_tpl_vars['t']['datasets'] > 0 || $this->_tpl_vars['t']['schema_mode'] == 'new' )): ?><?php echo ''; ?><?php if (! $this->_tpl_vars['sys']['browser']['is_mobile']): ?><?php echo '<table border="0" cellpadding="0" cellspacing="0" style="width:100%; margin-bottom:2px;" class="noprint"><tr><td><table border="0" cellpadding="0" cellspacing="0"><tr><td class="tabstyle_empty" id="pane_close" style="padding:0px 4px; cursor:pointer; display:none;" onclick="top.hidepane(window.name);">x</td><td class="tabstyle_empty" id="tab_spacer" style="padding:0px; padding-left:4px;">&nbsp;</td><td><img src="about:blank" style="width:2px; height:1px;"></td>'; ?><?php $_from = $this->_tpl_vars['t']['tabs']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['tabs'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['tabs']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['tab_key'] => $this->_tpl_vars['tab_item']):
        $this->_foreach['tabs']['iteration']++;
?><?php echo '<td title="Alt-'; ?><?php echo ((is_array($_tmp=$this->_foreach['tabs']['iteration'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" id="tab'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['tab_key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" ondragover="onclick();" onclick="change_tab(\'tab\',\''; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['tab_key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\');" class="tab '; ?><?php if ($this->_tpl_vars['tab_key'] != 'general'): ?><?php echo 'tabstyle'; ?><?php else: ?><?php echo 'tabstyle2'; ?><?php endif; ?><?php echo '"><span rel="'; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['tab_key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '" id="accesskey'; ?><?php echo ((is_array($_tmp=$this->_foreach['tabs']['iteration'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['tab_item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['tab_item']['NAME']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['tab_item']['NAME'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</span></td><td><img src="about:blank" style="width:2px; height:1px;"></td>'; ?><?php endforeach; endif; unset($_from); ?><?php echo '<td id="tab" onclick="show2(\'.tfields\'); change_tab(\'tab\',\'\');" class="tab tabstyle" title="Alt-'; ?><?php echo ((is_array($_tmp=$this->_foreach['tabs']['total']+1)) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '">+</td><td><img src="about:blank" style="width:2px; height:1px;"></td></tr></table></td><td class="tabstyle_empty" style="width:100%;">&nbsp;</td></tr></table>'; ?><?php else: ?><?php echo '<div style="margin:2px; border-top: '; ?><?php echo $this->_config[0]['vars']['border']; ?><?php echo ';"></div><div class="default10" style="margin:0 4px; margin-bottom:2px; float:'; ?><?php if ($this->_config[0]['vars']['direction']): ?><?php echo 'right'; ?><?php else: ?><?php echo 'left'; ?><?php endif; ?><?php echo ';">'; ?><?php $_from = $this->_tpl_vars['t']['tabs']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['tabs'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['tabs']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['tab_key'] => $this->_tpl_vars['tab_item']):
        $this->_foreach['tabs']['iteration']++;
?><?php echo '<a class="tab_ '; ?><?php if ($this->_tpl_vars['tab_key'] == 'general'): ?><?php echo 'bold'; ?><?php endif; ?><?php echo '" href="#" onclick="css(\'.tab_\',\'fontWeight\',\'normal\'); css(this,\'fontWeight\',\'bold\'); change_tab(\'tab\',\''; ?><?php echo ((is_array($_tmp=$this->_tpl_vars['tab_key'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '\'); return false;">'; ?><?php echo ((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['tab_item']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['tab_item']['NAME']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['tab_item']['NAME'])))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?><?php echo '</a>'; ?><?php echo ' '; ?><?php echo '|'; ?><?php echo ' '; ?><?php echo ''; ?><?php endforeach; endif; unset($_from); ?><?php echo '<a class="tab_" href="#" onclick="css(\'.tab_\',\'fontWeight\',\'normal\'); css(this,\'fontWeight\',\'bold\'); show2(\'.tfields\'); change_tab(\'tab\',\'\'); return false;">+</a></div><div style="clear:both;"></div>'; ?><?php endif; ?><?php echo ''; ?><?php endif; ?><?php echo ''; ?>
<?php endif; ?>

	  <?php if (! $this->_tpl_vars['iframe'] && ! $this->_tpl_vars['preview'] && ! $this->_tpl_vars['popup']): ?>
	    <div id="content_pane2" style="display:none; float:right;" class="noprint">
		  <iframe name="pane2" id="pane2" src="about:blank" onmousedown="start_drag(resize_pane2);" onload="show_pane2();"></iframe>
	    </div>
	  <?php endif; ?>
	  <?php if ($this->_tpl_vars['folder']['description'] && ( $this->_tpl_vars['sys']['fdesc_in_content'] || $this->_tpl_vars['print'] == 1 || ( ! $this->_tpl_vars['tree']['visible'] && ! $this->_tpl_vars['iframe'] && ! $this->_tpl_vars['preview'] ) )): ?>
		<div style="margin:2px; border-top: <?php echo $this->_config[0]['vars']['border']; ?>
;"></div>
		<div class="tree_box" style="border:0px; padding:0px;"><?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['folder']['description'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)))) ? $this->_run_mod_handler('modify::nl2br', true, $_tmp) : modify::nl2br($_tmp)); ?>
</div>
		<div style="margin:2px; margin-bottom:4px; border-top: <?php echo $this->_config[0]['vars']['border']; ?>
;"></div>
	  <?php endif; ?>
	  <div <?php if (! $this->_tpl_vars['print']): ?>id="content_def"<?php endif; ?> class="overflow">
	  <table id="content_def_table" border="0" cellpadding="0" cellspacing="0" style="width:100%; height:100%;">
	  <tr><td valign="top">
	  <?php if (count ( $this->_tpl_vars['t']['notification'] ) > 0): ?>
		<table cellspacing="0" class="data" align="center" border="0" style="<?php if ($this->_tpl_vars['sys']['browser']['is_mobile']): ?>width:auto;<?php else: ?>width:40%;<?php endif; ?> margin-top:4px;">
		<tr class="id"><td>Notification</td></tr>
		<?php $_from = $this->_tpl_vars['t']['notification']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['item']):
?>
		  <tr class="summary"><td style="text-align:center;"><div class="default10"><?php echo ((is_array($_tmp=$this->_tpl_vars['item'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
</div></td></tr>
	    <?php endforeach; endif; unset($_from); ?>
		</table>
	  <?php endif; ?>
	  <?php if (count ( $this->_tpl_vars['t']['warning'] ) > 0): ?>
		<table cellspacing="0" class="data" align="center" border="0" style="<?php if ($this->_tpl_vars['sys']['browser']['is_mobile']): ?>width:auto;<?php else: ?>width:40%;<?php endif; ?> margin-top:4px;">
		<tr class="id"><td>Warning</td></tr>
		<?php $_from = $this->_tpl_vars['t']['warning']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['item']):
?>
		  <tr class="summary"><td style="text-align:center;"><div class="default10"><?php echo ((is_array($_tmp=$this->_tpl_vars['item'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
</div></td></tr>
	    <?php endforeach; endif; unset($_from); ?>
		</table>
	  <?php endif; ?>

	  <?php if (( $this->_tpl_vars['t']['datasets'] == 0 && $this->_tpl_vars['t']['schema_mode'] != 'new' && $this->_tpl_vars['t']['schema_mode'] != 'static' ) || ( $this->_tpl_vars['t']['vright'] && ! $this->_tpl_vars['t']['rights'][$this->_tpl_vars['t']['vright']] )): ?>
		<table cellspacing="0" class="data" style="margin-bottom:<?php if ($this->_tpl_vars['iframe'] && ! $this->_tpl_vars['t']['data_day'] && ! $this->_tpl_vars['t']['data_month']): ?>0<?php else: ?>2<?php endif; ?>px;">
		  <tr><td style="padding-top:0px; padding-bottom:0px;">
		    <?php if ($this->_tpl_vars['t']['vright'] && ! $this->_tpl_vars['t']['rights'][$this->_tpl_vars['t']['vright']]): ?>Access denied.<?php else: ?>No entries found.<?php endif; ?>
		  </td></tr>
		</table>
	  <?php endif; ?>
	  <?php if (! $this->_tpl_vars['t']['vright'] || $this->_tpl_vars['t']['rights'][$this->_tpl_vars['t']['vright']]): ?>
	    <?php if (! $this->_tpl_vars['t']['function']): ?>
		  <?php $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => $this->_tpl_vars['t']['template'], 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
 ?>
 	    <?php else: ?>
		  <table class="data data_page"><tr><td>
		  <?php echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['t']['function'])) ? $this->_run_mod_handler('modify::callfunc', true, $_tmp, $this->_tpl_vars['t']['folder'], $this->_tpl_vars['t']['view']) : modify::callfunc($_tmp, $this->_tpl_vars['t']['folder'], $this->_tpl_vars['t']['view'])))) ? $this->_run_mod_handler('modify::htmlfield', true, $_tmp) : modify::htmlfield($_tmp)); ?>

		  </td></tr></table>
		<?php endif; ?>
	  <?php endif; ?>

	  <?php if ($this->_tpl_vars['sys']['is_superadmin'] && ! $this->_tpl_vars['popup'] && ! $this->_tpl_vars['iframe'] && $this->_tpl_vars['t']['schema_mode'] != 'static' && $this->_tpl_vars['folder']['type'] != 'sys_custom_fields'): ?>
		<table cellspacing="0" class="data noprint" style="border-top:0px; margin-bottom:2px;">
  <tr class="summary2">
  <td>Customize:</td>
  <td style="vertical-align:top; width:90%;">
	<form onsubmit="customize_field('<?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['type'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
'); return false;">
	  <select id="cust_field" onchange="set_val('cust_field_name', options[selectedIndex].text);">
		<?php $_from = $this->_tpl_vars['t']['fields']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['curr_id'] => $this->_tpl_vars['field']):
?>
		  <option value="<?php echo ((is_array($_tmp=$this->_tpl_vars['curr_id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
"> <?php echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['field']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['curr_id']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['curr_id'])))) ? $this->_run_mod_handler('replace', true, $_tmp, '_', ' ') : smarty_modifier_replace($_tmp, '_', ' ')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>

		<?php endforeach; endif; unset($_from); ?>
	  </select>
	  <select id="cust_field_action" onchange="
	  if (val(this)!='hidden' && val(this)!='hiddenin' && val(this)!='notinall') { show('cust_field_text'); getObj('cust_field_name').focus(); } else hide('cust_field_text');">
		<option value="">...
		<option value="hidden">hide in all views
		<option value="hiddenin">hide in this view
		<option value="notinall">disable
		<option value="rename">rename
		<optgroup label="Prepend new field as">
		<option value="text">Text
		<option value="textarea">Textarea
		<option value="checkbox">Checkbox
		<option value="date">Date
		<option value="datetime">Date time
		<option value="int">Integer
		<option value="graphviz">Graphviz
		<option value="htmlarea">HTML area
		<option value="pmwikiarea">PmWiki area
		<option value="rating">Rating
		</optgroup>
	  </select>
	  <span id="cust_field_text" style="display:none;">
		&nbsp;Name: <input type="Text" id="cust_field_name"/>
	  </span>
	  &nbsp;<input type="checkbox" class="checkbox" id="cust_field_folder" value="1" style="margin:0px;" /> <label for="cust_field_folder" style="vertical-align:middle;">Only for this folder</label>&nbsp;
	  <input type="submit" value="Ok"> &nbsp;
	  <a title="Show all rules" href="index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&folder=~sys_custom_fields&view=display&find=sys_custom_fields|module=<?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['type'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
"><img src="ext/icons/all.gif"/></a>
	  <a title="Add a special rule" href="index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&folder=~sys_custom_fields&view=new&defaults={&quot;module&quot;:&quot;<?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['type'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&quot;,&quot;ffolder&quot;:&quot;<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['folder'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&quot;}">
	  <img src="ext/icons/add.gif"/></a>
	</form>

	<table><tr>
	<?php $_from = $this->_tpl_vars['t']['fields_all']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['curr_id'] => $this->_tpl_vars['field']):
?>
	<?php if ($this->_tpl_vars['field']['CUSTOMIZED']): ?>
	  <td style="padding:4px 8px 2px 0px; border:0px;">
		<?php echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['field']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['curr_id']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['curr_id'])))) ? $this->_run_mod_handler('replace', true, $_tmp, '_', ' ') : smarty_modifier_replace($_tmp, '_', ' ')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&nbsp;
		<a title="Details" target="pane" href="index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&view=details&find=sys_custom_fields|module=<?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['type'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
,field=<?php echo ((is_array($_tmp=$this->_tpl_vars['curr_id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
&iframe=1">
		<img src="ext/icons/details.gif"/></a>&nbsp;
		<a title="Edit" target="_blank" href="index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&view=edit&find=sys_custom_fields|module=<?php echo ((is_array($_tmp=$this->_tpl_vars['folder']['type'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
,field=<?php echo ((is_array($_tmp=$this->_tpl_vars['curr_id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
">
		<img src="ext/icons/edit.gif"/></a>
	  </td>
	<?php endif; ?>
	<?php endforeach; endif; unset($_from); ?>
	</tr></table>
	</div>
  </td>
  </tr>
</table>
	  <?php endif; ?>

	  <?php if (! $this->_tpl_vars['iframe'] && $this->_tpl_vars['t']['schema_mode'] != 'static'): ?>
	    <?php if (! $this->_tpl_vars['t']['schema_mode'] && ! $this->_tpl_vars['iframe'] && ( $this->_tpl_vars['t']['maxdatasets'] != 0 || $this->_tpl_vars['t']['sqlfilters'] )): ?>
<?php ob_start(); ?>
<table cellspacing="0" class="data noprint" style="border-top:0px; margin-bottom:2px;">
  <tr class="summary2">
  <td>Filter:</td>
  <td style="vertical-align:top; width:90%;">
	<form action="index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&" method="get" onsubmit="asset_filter_submit(); return false;">
    <?php $_from = $this->_tpl_vars['t']['sqlfilters']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['filter']):
?>
	  <div style="margin-bottom:2px;">
		<select class="filter_field">
		<?php $_from = $this->_tpl_vars['t']['fields']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['curr_id'] => $this->_tpl_vars['field']):
?>
		  <?php if (! $this->_tpl_vars['t']['fields'][$this->_tpl_vars['curr_id']]['HIDDENIN'][$this->_tpl_vars['t']['view']] && ! $this->_tpl_vars['t']['fields'][$this->_tpl_vars['curr_id']]['HIDDENIN']['all']): ?>
			<option value="<?php echo ((is_array($_tmp=$this->_tpl_vars['curr_id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
" <?php if ($this->_tpl_vars['filter']['field'] == $this->_tpl_vars['curr_id']): ?>selected<?php endif; ?>> <?php echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['field']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['curr_id']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['curr_id'])))) ? $this->_run_mod_handler('replace', true, $_tmp, '_', ' ') : smarty_modifier_replace($_tmp, '_', ' ')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>

		  <?php endif; ?>
		<?php endforeach; endif; unset($_from); ?>
		</select>
		<select class="filter_type">
		  <option value="like" <?php if ($this->_tpl_vars['filter']['type'] == 'like'): ?>selected<?php endif; ?>> contains
		  <option value="nlike" <?php if ($this->_tpl_vars['filter']['type'] == 'nlike'): ?>selected<?php endif; ?>> not contains
		  <option value="starts" <?php if ($this->_tpl_vars['filter']['type'] == 'starts'): ?>selected<?php endif; ?>> starts with
		  <option value="eq" <?php if ($this->_tpl_vars['filter']['type'] == 'eq'): ?>selected<?php endif; ?>> equal
		  <option value="neq" <?php if ($this->_tpl_vars['filter']['type'] == 'neq'): ?>selected<?php endif; ?>> not equal
		  <option value="oneof" <?php if ($this->_tpl_vars['filter']['type'] == 'oneof'): ?>selected<?php endif; ?>> one of
		  <option value="lt" <?php if ($this->_tpl_vars['filter']['type'] == 'lt'): ?>selected<?php endif; ?>> lesser than
		  <option value="gt" <?php if ($this->_tpl_vars['filter']['type'] == 'gt'): ?>selected<?php endif; ?>> greater than
		</select>
		<input type="text" class="filter_value" value="<?php echo ((is_array($_tmp=$this->_tpl_vars['filter']['value'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
" style="width:100px;">
		<input type="button" value="X" onclick="set_html(getFirstParentByName(this,'div'),''); asset_filter_submit();">
		&nbsp;and
      </div>
	<?php endforeach; endif; unset($_from); ?>
	<div id="filter_rows"></div>
	<span id="filter_row">
	  <select class="filter_field">
      <?php $_from = $this->_tpl_vars['t']['fields']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['curr_id'] => $this->_tpl_vars['field']):
?>
		<?php if (! $this->_tpl_vars['t']['fields'][$this->_tpl_vars['curr_id']]['HIDDENIN'][$this->_tpl_vars['t']['view']] && ! $this->_tpl_vars['t']['fields'][$this->_tpl_vars['curr_id']]['HIDDENIN']['all']): ?>
		  <option value="<?php echo ((is_array($_tmp=$this->_tpl_vars['curr_id'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
"> <?php echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=@$this->_tpl_vars['field']['DISPLAYNAME'])) ? $this->_run_mod_handler('default', true, $_tmp, @$this->_tpl_vars['curr_id']) : smarty_modifier_default($_tmp, @$this->_tpl_vars['curr_id'])))) ? $this->_run_mod_handler('replace', true, $_tmp, '_', ' ') : smarty_modifier_replace($_tmp, '_', ' ')))) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>

		<?php endif; ?>
	  <?php endforeach; endif; unset($_from); ?>
	  </select>
	  <select class="filter_type">
		<option value="like"> contains
		<option value="nlike"> not contains
		<option value="starts"> starts with
		<option value="eq"> equal
		<option value="neq"> not equal
		<option value="oneof"> one of
		<option value="lt"> lesser than
		<option value="gt"> greater than
	  </select>
	  <input type="text" class="filter_value" style="width:100px;">
	</span>
	<input type="submit" value="Ok">
	<?php if ($this->_tpl_vars['t']['sqlfilters']): ?>
	  <input type="button" value="Clear" onclick="locate('index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&folder='+escape(tfolder)+'&view='+tview+'&filters=');">
	<?php endif; ?>
	<input type="button" value="+" onclick="append_html('filter_rows','<div style=\'margin-bottom:2px;\'>'+getObj('filter_row').innerHTML+' &nbsp;and</div>')">
	</form>
  </td>
  </tr>
</table>
<?php $this->_smarty_vars['capture']['filters'] = ob_get_contents(); ob_end_clean(); ?>
<?php if (! $this->_tpl_vars['sys']['fixed_footer']): ?><?php echo $this->_smarty_vars['capture']['filters']; ?>
<?php endif; ?>
<?php endif; ?>
	    <?php if (! $this->_tpl_vars['t']['schema_mode']): ?>
<?php ob_start(); ?>
<table cellspacing="0" class="data <?php if (! $this->_tpl_vars['sys']['fixed_footer']): ?>data_page<?php endif; ?>" style="border-top:0px; <?php if ($this->_tpl_vars['sys']['fixed_footer']): ?>margin-bottom:0px;<?php endif; ?>">
  <tr class="summary">
	<?php if ($this->_tpl_vars['t']['datasets'] > 0): ?>
    <td style="width:10px;"><input type="checkbox" id="itemall" value="" class="checkbox" onmousedown="mselectall(this.checked);">
    <a onclick="mselectallkey(); return false;" href="#" accesskey="a"></a></td>
	<?php endif; ?>
	<?php if ($this->_tpl_vars['popup']): ?>
	  <td><input type="button" onclick="opener.commit_from_popup('<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['lookup'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
',assets_get_selected(true)); window.close();" value="Take selection"></td>
	<?php endif; ?>
	<?php if (! $this->_tpl_vars['popup'] && ! $this->_tpl_vars['iframe']): ?>
    <td style="width:50px;"><form action="index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&" method="post"><input onkeypress="if (getmykey(event)==13) this.form.submit();" type="text" maxlength="5" value="<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['limit'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
" class="input" name="limit" style="text-align:center; width:45px;"></form></td>
	<?php endif; ?>
	<?php if ($this->_tpl_vars['t']['lastpage'] != 1): ?>
    <td style="text-align:center; white-space:nowrap; width:90%;" class="noprint">
      <?php if ($this->_tpl_vars['t']['page'] != 1): ?><input type="button" onclick="locate('index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&page=1'); return false;" title="Alt-q" value="&lt;&lt;&lt;">&nbsp;<?php endif; ?><?php echo ' '; ?>

	  <?php if ($this->_tpl_vars['t']['page'] != $this->_tpl_vars['t']['prevpage']): ?><input type="button" onclick="locate('index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&page=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['prevpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
'); return false;" title="Alt-'-'" value="&lt;&lt;">&nbsp;<?php endif; ?>
	  <?php if ($this->_tpl_vars['t']['lastpage'] > 2): ?>
	  <input type="text" onkeypress="if (getmykey(event)==13) locate('index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&page='+this.value);" maxlength="5" value="<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['page'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
" class="input" style="text-align:center; width:44px;">
	  <?php endif; ?>
	  <?php if ($this->_tpl_vars['t']['page'] != $this->_tpl_vars['t']['nextpage']): ?>&nbsp;<input type="button" onclick="locate('index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&page=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['nextpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
'); return false;" title="Alt-'+'" value="&gt;&gt;"><?php endif; ?><?php echo ' '; ?>

	  <?php if ($this->_tpl_vars['t']['page'] != $this->_tpl_vars['t']['lastpage']): ?>&nbsp;<input type="button" onclick="locate('index.php?<?php echo $this->_tpl_vars['urladdon']; ?>
&page=<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['lastpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
'); return false;" title="Alt-w" value="&gt;&gt;&gt;"><?php endif; ?>
	</td>
	<?php else: ?><td style="width:90%;">&nbsp;</td><?php endif; ?>
	<?php if ($this->_tpl_vars['t']['maxdatasets'] > 0): ?>
	<td style="text-align:right; white-space:nowrap;">
      <?php if ($this->_tpl_vars['t']['lastpage'] > 1): ?>[<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['page'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
/<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['lastpage'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
]<?php endif; ?>&nbsp;<?php if ($this->_tpl_vars['t']['datasets'] > 0): ?>[<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['datasets'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
/<?php echo ((is_array($_tmp=$this->_tpl_vars['t']['maxdatasets'])) ? $this->_run_mod_handler('modify::htmlquote', true, $_tmp) : modify::htmlquote($_tmp)); ?>
]<?php endif; ?>
    </td>
	<?php endif; ?>
  </tr>
</table>
<?php $this->_smarty_vars['capture']['pages'] = ob_get_contents(); ob_end_clean(); ?>
<?php if (! $this->_tpl_vars['sys']['fixed_footer']): ?><?php echo $this->_smarty_vars['capture']['pages']; ?>
<?php endif; ?>
<?php endif; ?>
	  <?php endif; ?>
	  </td></tr>
	  <?php if (! $this->_tpl_vars['iframe'] && ! $this->_tpl_vars['preview']): ?>
	    <tr><td valign="bottom" style="text-align:right;">
  		  		  <div class="notice"><a href="http://www.simple-groupware.de" class="lnotice" target="_blank" onmouseover="set_html(this,'Powered by Simple Groupware, Copyright (C) 2002-2012 by Thomas Bley.');" onmouseout="set_html(this,'Powered by Simple Groupware.');">Powered by Simple Groupware.</a></div>
	    </td></tr>
	  <?php endif; ?>
	  </table>
	  </div>
	  <?php if (! $this->_tpl_vars['iframe'] && ! $this->_tpl_vars['preview'] && ! $this->_tpl_vars['popup']): ?>
	    <div id="content_pane" style="display:none;" class="noprint">
		  <div onmousedown="start_drag(resize_pane);" class="pane_spacer"></div>
		  <iframe name="pane" id="pane" src="about:blank" onload="show_pane();" style="width:100%; height:100%; border:1px;"></iframe>
	    </div>
	  <?php endif; ?>
	  <?php if ($this->_tpl_vars['sys']['fixed_footer']): ?>
	  <div id="fixed_footer" style="padding-top:1px;">
		<?php echo $this->_smarty_vars['capture']['footer']; ?>

		<?php echo $this->_smarty_vars['capture']['filters']; ?>

		<?php echo $this->_smarty_vars['capture']['pages']; ?>

	  </div>
	  <?php endif; ?>
	</td>
  </tr>
</table>
</div>
</body>
</html>